:ruby

%html
  %head
    %title Investor Ledger

    %link(rel="stylesheet" href="reset.css")
    %link(rel="stylesheet" href="styles.css")
    %link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/css/bootstrap.min.css" integrity="sha384-2hfp1SzUoho7/TsGGGDaFdsuuDL0LX2hnUp6VkX3CUQ2K4K+xjboZdsXyp4oUHZj" crossorigin="anonymous")

  %body
    %h1
      .title.black.thin
        Investing Account

    .content.thin
      .balance.black
        .balance-title
          Balance<br>
        .balance-info
          <b>$#{@ledger_data.first['balance']}</b>
          = render_file('views/modals.haml')
            
      .table-title.grey
        Transaction History
      %table
        %thead
          %tr.grey.border
            %th Date
            %th Transaction
            %th Description
            %th Amount
            %th Balance

        %tbody
          - @ledger_data.each do |entry|
            %tr.grey.border
              %td
                = entry['formatted_date']
              %td.black
                = entry['type']
              %td
                = entry['formatted_description']
              %td.black
                = entry['amount']
              %td.black
                <b>$#{entry['balance']}</b>


    %script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous")
    %script(src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous")
    %script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/js/bootstrap.min.js" integrity="sha384-VjEeINv9OSwtWFLAtmc4JCtEJXXBub00gtSnszmspDLCtC0I4z4nqz7rEFbIZLLU" crossorigin="anonymous")
    %script(src="https://use.fontawesome.com/caa8dd8c0d.js") 
    :javascript
      $('.external-accts').hide();
      
      $('#dest-acct').on('change', function() {
        if (this.value === 'New Account') {
          $('.external-accts').show();
        } else {
          $('.external-accts').hide();
        }
      });

      function accountSubmit() {
        alert('Your transaction has been submitted! Please allow 3 business days for the changes to reflect in your account.');
      }
